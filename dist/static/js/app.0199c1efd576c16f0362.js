webpackJsonp([1],{"+Ruj":function(t,e){},"1/oy":function(t,e){},"7Otq":function(t,e,n){t.exports=n.p+"static/img/logo.fb7c5e4.png"},"9M+g":function(t,e){},BoFK:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Zrlr"),o=n.n(a),s=n("wxAW"),r=n.n(s),i=n("7+uW"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("img",{staticStyle:{height:"200px"},attrs:{src:n("7Otq")}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},u,!1,function(t){n("NlWc")},null,null).exports,l=n("/ocq"),d=n("kxiW"),f=n.n(d),h=n("mtWM"),p=n.n(h),v={name:"HelloWorld",methods:{signIn:function(){var t=this,e=new f.a.auth.FacebookAuthProvider;f.a.auth().signInWithPopup(e).then(function(e){console.log(e),p.a.get(e.additionalUserInfo.profile.picture.data.url,{responseType:"blob"}).then(function(e){t.upload(e.data,"userid")})})},upload:function(t,e){var n=this,a=new W;this.uploadTask=a.getFirebaseApp().storage().ref("profiles/"+a.getCurrentUserId()).put(t),this.uploadTask.then(function(t){n.downloadURL=n.uploadTask.snapshot.downloadURL,n.$emit("url",n.downloadURL)}),a.saveUser()}},watch:{uploadTask:function(){var t=this;this.uploadTask.on("state_changed",function(e){t.progressUpload=Math.floor(e.bytesTransferred/e.totalBytes*100)})}},data:function(){return{msg:"Welcome to Your Vue.js App",token:null}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v("VB18")]),this._v(" "),e("button",{on:{click:this.signIn}},[this._v("Sign in")])])},staticRenderFns:[]};var m=n("VU/8")(v,b,!1,function(t){n("BoFK")},"data-v-9f30bc08",null).exports,g=n("fZjL"),_=n.n(g),k=n("bOdI"),y=n.n(k),U={name:"betting",mounted:function(){var t=this;this.$data.fbController=new W,this.$data.fbController.getMatches().then(function(e){t.$data.matches=e.val(),t.$data.matches.forEach(function(e){var n;null!==e&&null!==e.id&&(console.log(e,e.id),t.$data.bets[e.id]={},t.$data.bets[e.id]=(n={},y()(n,e.P1,0),y()(n,e.P2,0),n))}),console.log(t.$data.bets[2])})},methods:{submit:function(){var t=this;console.log(this.$data.bets);var e=this.$data.fbController;_()(this.$data.bets).forEach(function(n){e.saveBet(n,t.$data.bets[n])})}},data:function(){return{matches:{},bets:[],fbController:null}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v("VB18")]),t._v("\n  SUCCESS\n\n  "),t._l(t.matches,function(e){return null!=e?n("b-row",{key:e.id,staticClass:"my-1 col-centered"},[n("b-col",{staticClass:"col-centered",attrs:{sm:"2"}},[t._v(t._s(e.P1))]),t._v(" "),n("b-col",{attrs:{sm:"1"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.bets[e.id][e.P1],callback:function(n){t.$set(t.bets[e.id],e.P1,n)},expression:"bets[match.id][match.P1]"}})],1),t._v(" "),n("b-col",{attrs:{sm:"1"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.bets[e.id][e.P2],callback:function(n){t.$set(t.bets[e.id],e.P2,n)},expression:"bets[match.id][match.P2]"}})],1),t._v(" "),n("b-col",{attrs:{sm:"2"}},[t._v(t._s(e.P2))])],1):t._e()}),t._v(" "),n("button",{on:{click:t.submit}},[t._v("Send")])],2)},staticRenderFns:[]};var $=n("VU/8")(U,C,!1,function(t){n("+Ruj")},"data-v-46245b80",null).exports;i.a.use(l.a);var w=new l.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:m},{path:"/betting",name:"Betting",component:$,meta:{requiresAuth:!0}}]});w.beforeEach(function(t,e,n){var a=f.a.auth().currentUser,o=t.matched.some(function(t){return t.meta.requiresAuth});o&&!a?(console.log("login"),n("login")):!o&&a?(console.log("betting"),n("betting")):n()});var A=w,P=n("Rf8U"),x=n.n(P),I=n("e6fC");n("Jmt5"),n("9M+g");i.a.use(I.a),i.a.use(x.a,p.a),i.a.config.productionTip=!1;var B=f.a.initializeApp({apiKey:"AIzaSyCrSAEPkZvzZ2COWNdFCeBnw2yKkr2nKmg",authDomain:"vb18-288ff.firebaseapp.com",databaseURL:"https://vb18-288ff.firebaseio.com",projectId:"vb18-288ff",storageBucket:"vb18-288ff.appspot.com",messagingSenderId:"958361084699"}),R=B.database();f.a.auth().onAuthStateChanged(function(t){console.log(t),console.log("asd"),new i.a({el:"#app",router:A,components:{App:c},template:"<App/>"})});var S=function(){function t(){o()(this,t)}return r()(t,[{key:"getMatches",value:function(){return R.ref("matches").once("value",function(t){return t.val()},function(t){console.log(t)})}},{key:"saveBet",value:function(t,e){var n=f.a.auth().currentUser.uid;return R.ref("bets/"+n+"/"+t).set(e)}},{key:"getFirebaseApp",value:function(){return B}},{key:"getCurrentUserId",value:function(){return f.a.auth().currentUser.uid}},{key:"saveUser",value:function(){var t=f.a.auth().currentUser;return R.ref("users/"+t.uid).set({username:t.displayName})}}]),t}(),W=e.default=S},NlWc:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0199c1efd576c16f0362.js.map